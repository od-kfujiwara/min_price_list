# デプロイメント・運用ガイド

## 🚀 デプロイメント手順

### 本番ビルド
```bash
# 依存関係インストール
npm install

# TypeScriptコンパイル + Viteビルド
npm run build

# ビルド結果確認
npm run preview
```

### 成果物
- `dist/` ディレクトリに静的ファイルが生成
- `index.html` + JS/CSS/アセット

## 🔧 環境設定

### Node.js要件
- **推奨**: Node.js 18.x以上
- **最小**: Node.js 16.x

### ブラウザサポート
- Chrome 88+
- Firefox 87+
- Safari 14+
- Edge 88+

## 📊 パフォーマンス最適化

### ビルド最適化
- Tree shaking（未使用コード除去）
- Code splitting（自動）
- CSS minification
- Asset optimization

### ランタイム最適化
- React 19の新機能活用
- CSS Grid による効率的レイアウト
- 最小限のDOMアニメーション

## 🔍 監視・メトリクス

### 重要指標
- **初回読み込み時間**: < 2秒目標
- **インタラクション**: タブ切り替え < 100ms
- **メモリ使用量**: 50MB以下

### 監視ポイント
- TSVデータの読み込み成功率
- カレンダー描画パフォーマンス
- レスポンシブブレークポイント

## 🛠 トラブルシューティング

### よくある問題

#### 1. TSVデータが表示されない
**症状**: カレンダーに価格が表示されない  
**原因**: TSVファイル形式の問題  
**解決**: `src/data/prices.tsv`のタブ区切り確認

#### 2. ビルドエラー
**症状**: `npm run build`失敗  
**原因**: TypeScript型エラー  
**解決**: `tsc --noEmit`で型チェック

#### 3. レスポンシブ表示崩れ
**症状**: モバイルでレイアウト崩れ  
**原因**: CSS Grid設定  
**解決**: ブレークポイント見直し

### デバッグ手順
1. ブラウザ開発者ツールでコンソールエラー確認
2. ネットワークタブでリソース読み込み確認
3. `npm run dev`で開発モード確認

## 📋 運用チェックリスト

### デプロイ前確認
- [ ] `npm run build`成功
- [ ] `npm run preview`動作確認
- [ ] 全ブラウザでの表示確認
- [ ] モバイル・タブレット動作確認
- [ ] TSVデータの整合性確認

### 定期メンテナンス
- [ ] 依存関係のセキュリティ更新
- [ ] 価格データの定期更新
- [ ] パフォーマンス指標の確認
- [ ] ブラウザサポート状況の確認

## 🔐 セキュリティ

### 依存関係管理
```bash
# セキュリティ監査
npm audit

# 脆弱性修正
npm audit fix
```

### 静的ファイル配信
- HTTPS必須
- CSP（Content Security Policy）推奨
- キャッシュ戦略の最適化

## 📈 スケーリング

### データ拡張
- より多くの都市データ追加
- 過去データのアーカイブ化
- API連携への移行準備

### 機能拡張
- 検索・フィルタ機能
- ユーザー設定保存
- 価格アラート機能

---

**最終更新**: 2025年6月24日  
**担当者**: プロジェクト開発チーム